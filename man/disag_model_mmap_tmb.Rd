% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fitting_tmb.R
\name{disag_model_mmap_tmb}
\alias{disag_model_mmap_tmb}
\title{Fit a multi-map disaggregation model via TMB}
\usage{
disag_model_mmap_tmb(
  data,
  priors = NULL,
  family = "poisson",
  link = "log",
  time_varying_betas = FALSE,
  fixed_effect_betas = TRUE,
  iterations = 1000,
  field = TRUE,
  iid = TRUE,
  hess_control_parscale = NULL,
  hess_control_ndeps = 1e-04,
  silent = TRUE,
  starting_values = NULL,
  verbose = FALSE
)
}
\arguments{
\item{data}{A 'disag_data_mmap' object (from 'prepare_data_mmap()').}

\item{priors}{Optional named list of prior specifications (see internal helper).}

\item{family}{One of 'gaussian', 'binomial', 'poisson', or 'negbinomial'.}

\item{link}{One of 'identity', 'logit', or 'log'.}

\item{time_varying_betas}{Logical; if TRUE, each time point has its own fixed-effect}

\item{fixed_effect_betas}{Logical; currently ignored by TMB engine.}

\item{iterations}{Integer >= 1: maximum number of optimizer iterations.}

\item{field}{Logical: include the spatial random field?}

\item{iid}{Logical: include polygon-specific IID effects?}

\item{hess_control_parscale}{Optional numeric vector for scaling the Hessian steps.}

\item{hess_control_ndeps}{Numeric; relative step size for Hessian finite-difference (default 1e-4).}

\item{silent}{Logical: if TRUE, suppress TMB's console output.}

\item{starting_values}{Optional named list of starting parameter values.}

\item{verbose}{Logical: if TRUE, print total runtime.}
}
\value{
An object of class 'disag_model_mmap_tmb' (a list with '$obj', '$opt',
  '$sd_out', '$data', and '$model_setup').
}
\description{
Builds the TMB ADFun object for a multi-map disaggregation model, then
fits the model by maximizing the TMB objective and approximates uncertainty
via the optimized Hessian.
}
